{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/projects/Documents/GitHub/real-time-chat-front-end/public/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _asyncToGenerator from\"/Users/projects/Documents/GitHub/real-time-chat-front-end/public/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/projects/Documents/GitHub/real-time-chat-front-end/public/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/projects/Documents/GitHub/real-time-chat-front-end/public/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/projects/Documents/GitHub/real-time-chat-front-end/public/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject;import _regeneratorRuntime from\"/Users/projects/Documents/GitHub/real-time-chat-front-end/public/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import styled from\"styled-components\";import{useNavigate,Link}from\"react-router-dom\";import Logo from\"../assets/logo.svg\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{registerRoute}from\"../utils/APIRoutes\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Register(){var navigate=useNavigate();var toastOptions={position:\"bottom-right\",autoClose:8000,pauseOnHover:true,draggable:true,theme:\"dark\"};var _useState=useState({username:\"\",email:\"\",password:\"\",confirmPassword:\"\"}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];useEffect(function(){if(localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY)){navigate(\"/\");}},[]);var handleChange=function handleChange(event){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},event.target.name,event.target.value)));};var handleValidation=function handleValidation(){var password=values.password,confirmPassword=values.confirmPassword,username=values.username,email=values.email;if(password!==confirmPassword){toast.error(\"Password and confirm password should be same.\",toastOptions);return false;}else if(username.length<3){toast.error(\"Username should be greater than 3 characters.\",toastOptions);return false;}else if(password.length<8){toast.error(\"Password should be equal or greater than 8 characters.\",toastOptions);return false;}else if(email===\"\"){toast.error(\"Email is required.\",toastOptions);return false;}return true;};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var email,username,password,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!handleValidation()){_context.next=9;break;}email=values.email,username=values.username,password=values.password;_context.next=5;return axios.post(registerRoute,{username:username,email:email,password:password});case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;if(data.status===false){toast.error(data.msg,toastOptions);}if(data.status===true){localStorage.setItem(process.env.REACT_APP_LOCALHOST_KEY,JSON.stringify(data.user));navigate(\"/\");}case 9:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FormContainer,{children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:function onSubmit(event){return handleSubmit(event);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"brand\",children:[/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"snappy\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",name:\"username\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",name:\"email\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",name:\"password\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Confirm Password\",name:\"confirmPassword\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create User\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Already have an account ? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login.\"})]})]})}),/*#__PURE__*/_jsx(ToastContainer,{})]});}var FormContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  height: 100vh;\\n  width: 100vw;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  gap: 1rem;\\n  align-items: center;\\n  background-color: #131324;\\n  .brand {\\n    display: flex;\\n    align-items: center;\\n    gap: 1rem;\\n    justify-content: center;\\n    img {\\n      height: 5rem;\\n    }\\n    h1 {\\n      color: white;\\n      text-transform: uppercase;\\n    }\\n  }\\n\\n  form {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 2rem;\\n    background-color: #00000076;\\n    border-radius: 2rem;\\n    padding: 3rem 5rem;\\n  }\\n  input {\\n    background-color: transparent;\\n    padding: 1rem;\\n    border: 0.1rem solid #4e0eff;\\n    border-radius: 0.4rem;\\n    color: white;\\n    width: 100%;\\n    font-size: 1rem;\\n    &:focus {\\n      border: 0.1rem solid #997af0;\\n      outline: none;\\n    }\\n  }\\n  button {\\n    background-color: #4e0eff;\\n    color: white;\\n    padding: 1rem 2rem;\\n    border: none;\\n    font-weight: bold;\\n    cursor: pointer;\\n    border-radius: 0.4rem;\\n    font-size: 1rem;\\n    text-transform: uppercase;\\n    &:hover {\\n      background-color: #4e0eff;\\n    }\\n  }\\n  span {\\n    color: white;\\n    text-transform: uppercase;\\n    a {\\n      color: #4e0eff;\\n      text-decoration: none;\\n      font-weight: bold;\\n    }\\n  }\\n\"])));","map":{"version":3,"sources":["/Users/projects/Documents/GitHub/real-time-chat-front-end/public/src/pages/Register.jsx"],"names":["React","useState","useEffect","axios","styled","useNavigate","Link","Logo","ToastContainer","toast","registerRoute","Register","navigate","toastOptions","position","autoClose","pauseOnHover","draggable","theme","username","email","password","confirmPassword","values","setValues","localStorage","getItem","process","env","REACT_APP_LOCALHOST_KEY","handleChange","event","target","name","value","handleValidation","error","length","handleSubmit","preventDefault","post","data","status","msg","setItem","JSON","stringify","user","e","FormContainer","div"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport Logo from \"../assets/logo.svg\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { registerRoute } from \"../utils/APIRoutes\";\n\nexport default function Register() {\n  const navigate = useNavigate();\n  const toastOptions = {\n    position: \"bottom-right\",\n    autoClose: 8000,\n    pauseOnHover: true,\n    draggable: true,\n    theme: \"dark\",\n  };\n  const [values, setValues] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n\n  useEffect(() => {\n    if (localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY)) {\n      navigate(\"/\");\n    }\n  }, []);\n\n  const handleChange = (event) => {\n    setValues({ ...values, [event.target.name]: event.target.value });\n  };\n\n  const handleValidation = () => {\n    const { password, confirmPassword, username, email } = values;\n    if (password !== confirmPassword) {\n      toast.error(\n        \"Password and confirm password should be same.\",\n        toastOptions\n      );\n      return false;\n    } else if (username.length < 3) {\n      toast.error(\n        \"Username should be greater than 3 characters.\",\n        toastOptions\n      );\n      return false;\n    } else if (password.length < 8) {\n      toast.error(\n        \"Password should be equal or greater than 8 characters.\",\n        toastOptions\n      );\n      return false;\n    } else if (email === \"\") {\n      toast.error(\"Email is required.\", toastOptions);\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    if (handleValidation()) {\n      const { email, username, password } = values;\n      const { data } = await axios.post(registerRoute, {\n        username,\n        email,\n        password,\n      });\n\n      if (data.status === false) {\n        toast.error(data.msg, toastOptions);\n      }\n      if (data.status === true) {\n        localStorage.setItem(\n          process.env.REACT_APP_LOCALHOST_KEY,\n          JSON.stringify(data.user)\n        );\n        navigate(\"/\");\n      }\n    }\n  };\n\n  return (\n    <>\n      <FormContainer>\n        <form action=\"\" onSubmit={(event) => handleSubmit(event)}>\n          <div className=\"brand\">\n            <img src={Logo} alt=\"logo\" />\n            <h1>snappy</h1>\n          </div>\n          <input\n            type=\"text\"\n            placeholder=\"Username\"\n            name=\"username\"\n            onChange={(e) => handleChange(e)}\n          />\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            name=\"email\"\n            onChange={(e) => handleChange(e)}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            name=\"password\"\n            onChange={(e) => handleChange(e)}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Confirm Password\"\n            name=\"confirmPassword\"\n            onChange={(e) => handleChange(e)}\n          />\n          <button type=\"submit\">Create User</button>\n          <span>\n            Already have an account ? <Link to=\"/login\">Login.</Link>\n          </span>\n        </form>\n      </FormContainer>\n      <ToastContainer />\n    </>\n  );\n}\n\nconst FormContainer = styled.div`\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 1rem;\n  align-items: center;\n  background-color: #131324;\n  .brand {\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n    justify-content: center;\n    img {\n      height: 5rem;\n    }\n    h1 {\n      color: white;\n      text-transform: uppercase;\n    }\n  }\n\n  form {\n    display: flex;\n    flex-direction: column;\n    gap: 2rem;\n    background-color: #00000076;\n    border-radius: 2rem;\n    padding: 3rem 5rem;\n  }\n  input {\n    background-color: transparent;\n    padding: 1rem;\n    border: 0.1rem solid #4e0eff;\n    border-radius: 0.4rem;\n    color: white;\n    width: 100%;\n    font-size: 1rem;\n    &:focus {\n      border: 0.1rem solid #997af0;\n      outline: none;\n    }\n  }\n  button {\n    background-color: #4e0eff;\n    color: white;\n    padding: 1rem 2rem;\n    border: none;\n    font-weight: bold;\n    cursor: pointer;\n    border-radius: 0.4rem;\n    font-size: 1rem;\n    text-transform: uppercase;\n    &:hover {\n      background-color: #4e0eff;\n    }\n  }\n  span {\n    color: white;\n    text-transform: uppercase;\n    a {\n      color: #4e0eff;\n      text-decoration: none;\n      font-weight: bold;\n    }\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}