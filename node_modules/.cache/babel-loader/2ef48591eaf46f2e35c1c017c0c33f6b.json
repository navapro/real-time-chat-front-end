{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/projects/Documents/GitHub/real-time-chat-front-end/public/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _asyncToGenerator from\"/Users/projects/Documents/GitHub/real-time-chat-front-end/public/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/projects/Documents/GitHub/real-time-chat-front-end/public/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/projects/Documents/GitHub/real-time-chat-front-end/public/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/projects/Documents/GitHub/real-time-chat-front-end/public/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject;import _regeneratorRuntime from\"/Users/projects/Documents/GitHub/real-time-chat-front-end/public/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import styled from\"styled-components\";import{useNavigate,Link}from\"react-router-dom\";import Logo from\"../assets/logo.svg\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{loginRoute}from\"../utils/APIRoutes\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(){var navigate=useNavigate();var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var toastOptions={position:\"bottom-right\",autoClose:8000,pauseOnHover:true,draggable:true,theme:\"dark\"};useEffect(function(){if(localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY)){navigate(\"/\");}},[]);var handleChange=function handleChange(event){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},event.target.name,event.target.value)));};var validateForm=function validateForm(){var username=values.username,password=values.password;if(username===\"\"){toast.error(\"Email and Password is required.\",toastOptions);return false;}else if(password===\"\"){toast.error(\"Email and Password is required.\",toastOptions);return false;}return true;};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var username,password,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!validateForm()){_context.next=9;break;}username=values.username,password=values.password;_context.next=5;return axios.post(loginRoute,{username:username,password:password});case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;if(data.status===false){toast.error(data.msg,toastOptions);}if(data.status===true){localStorage.setItem(process.env.REACT_APP_LOCALHOST_KEY,JSON.stringify(data.user));navigate(\"/\");}case 9:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FormContainer,{children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:function onSubmit(event){return handleSubmit(event);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"brand\",children:[/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"snappy\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",name:\"username\",onChange:function onChange(e){return handleChange(e);},min:\"3\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",name:\"password\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Log In\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Don't have an account ? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Create One.\"})]})]})}),/*#__PURE__*/_jsx(ToastContainer,{})]});}var FormContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  height: 100vh;\\n  width: 100vw;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  gap: 1rem;\\n  align-items: center;\\n  background-color: #131324;\\n  .brand {\\n    display: flex;\\n    align-items: center;\\n    gap: 1rem;\\n    justify-content: center;\\n    img {\\n      height: 5rem;\\n    }\\n    h1 {\\n      color: white;\\n      text-transform: uppercase;\\n    }\\n  }\\n\\n  form {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 2rem;\\n    background-color: #00000076;\\n    border-radius: 2rem;\\n    padding: 5rem;\\n  }\\n  input {\\n    background-color: transparent;\\n    padding: 1rem;\\n    border: 0.1rem solid #4e0eff;\\n    border-radius: 0.4rem;\\n    color: white;\\n    width: 100%;\\n    font-size: 1rem;\\n    &:focus {\\n      border: 0.1rem solid #997af0;\\n      outline: none;\\n    }\\n  }\\n  button {\\n    background-color: #4e0eff;\\n    color: white;\\n    padding: 1rem 2rem;\\n    border: none;\\n    font-weight: bold;\\n    cursor: pointer;\\n    border-radius: 0.4rem;\\n    font-size: 1rem;\\n    text-transform: uppercase;\\n    &:hover {\\n      background-color: #4e0eff;\\n    }\\n  }\\n  span {\\n    color: white;\\n    text-transform: uppercase;\\n    a {\\n      color: #4e0eff;\\n      text-decoration: none;\\n      font-weight: bold;\\n    }\\n  }\\n\"])));","map":{"version":3,"sources":["/Users/projects/Documents/GitHub/real-time-chat-front-end/public/src/pages/Login.jsx"],"names":["React","useState","useEffect","axios","styled","useNavigate","Link","Logo","ToastContainer","toast","loginRoute","Login","navigate","username","password","values","setValues","toastOptions","position","autoClose","pauseOnHover","draggable","theme","localStorage","getItem","process","env","REACT_APP_LOCALHOST_KEY","handleChange","event","target","name","value","validateForm","error","handleSubmit","preventDefault","post","data","status","msg","setItem","JSON","stringify","user","e","FormContainer","div"],"mappings":"46BAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,WAAT,CAAsBC,IAAtB,KAAkC,kBAAlC,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,OAASC,cAAT,CAAyBC,KAAzB,KAAsC,gBAAtC,CACA,MAAO,uCAAP,CACA,OAASC,UAAT,KAA2B,oBAA3B,C,6IAEA,cAAe,SAASC,CAAAA,KAAT,EAAiB,CAC9B,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CACA,cAA4BJ,QAAQ,CAAC,CAAEY,QAAQ,CAAE,EAAZ,CAAgBC,QAAQ,CAAE,EAA1B,CAAD,CAApC,wCAAOC,MAAP,eAAeC,SAAf,eACA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,QAAQ,CAAE,cADS,CAEnBC,SAAS,CAAE,IAFQ,CAGnBC,YAAY,CAAE,IAHK,CAInBC,SAAS,CAAE,IAJQ,CAKnBC,KAAK,CAAE,MALY,CAArB,CAOApB,SAAS,CAAC,UAAM,CACd,GAAIqB,YAAY,CAACC,OAAb,CAAqBC,OAAO,CAACC,GAAR,CAAYC,uBAAjC,CAAJ,CAA+D,CAC7Df,QAAQ,CAAC,GAAD,CAAR,CACD,CACF,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAMgB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9Bb,SAAS,gCAAMD,MAAN,wBAAec,KAAK,CAACC,MAAN,CAAaC,IAA5B,CAAmCF,KAAK,CAACC,MAAN,CAAaE,KAAhD,GAAT,CACD,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAQpB,CAAAA,QAAR,CAA+BE,MAA/B,CAAQF,QAAR,CAAkBC,QAAlB,CAA+BC,MAA/B,CAAkBD,QAAlB,CACA,GAAID,QAAQ,GAAK,EAAjB,CAAqB,CACnBJ,KAAK,CAACyB,KAAN,CAAY,iCAAZ,CAA+CjB,YAA/C,EACA,MAAO,MAAP,CACD,CAHD,IAGO,IAAIH,QAAQ,GAAK,EAAjB,CAAqB,CAC1BL,KAAK,CAACyB,KAAN,CAAY,iCAAZ,CAA+CjB,YAA/C,EACA,MAAO,MAAP,CACD,CACD,MAAO,KAAP,CACD,CAVD,CAYA,GAAMkB,CAAAA,YAAY,0FAAG,iBAAON,KAAP,+JACnBA,KAAK,CAACO,cAAN,GADmB,IAEfH,YAAY,EAFG,yBAGTpB,QAHS,CAGcE,MAHd,CAGTF,QAHS,CAGCC,QAHD,CAGcC,MAHd,CAGCD,QAHD,uBAIMX,CAAAA,KAAK,CAACkC,IAAN,CAAW3B,UAAX,CAAuB,CAC5CG,QAAQ,CAARA,QAD4C,CAE5CC,QAAQ,CAARA,QAF4C,CAAvB,CAJN,wCAITwB,IAJS,mBAITA,IAJS,CAQjB,GAAIA,IAAI,CAACC,MAAL,GAAgB,KAApB,CAA2B,CACzB9B,KAAK,CAACyB,KAAN,CAAYI,IAAI,CAACE,GAAjB,CAAsBvB,YAAtB,EACD,CACD,GAAIqB,IAAI,CAACC,MAAL,GAAgB,IAApB,CAA0B,CACxBhB,YAAY,CAACkB,OAAb,CACEhB,OAAO,CAACC,GAAR,CAAYC,uBADd,CAEEe,IAAI,CAACC,SAAL,CAAeL,IAAI,CAACM,IAApB,CAFF,EAKAhC,QAAQ,CAAC,GAAD,CAAR,CACD,CAlBgB,sDAAH,kBAAZuB,CAAAA,YAAY,4CAAlB,CAsBA,mBACE,wCACE,KAAC,aAAD,wBACE,cAAM,MAAM,CAAC,EAAb,CAAgB,QAAQ,CAAE,kBAACN,KAAD,QAAWM,CAAAA,YAAY,CAACN,KAAD,CAAvB,EAA1B,wBACE,aAAK,SAAS,CAAC,OAAf,wBACE,YAAK,GAAG,CAAEtB,IAAV,CAAgB,GAAG,CAAC,MAApB,EADF,cAEE,8BAFF,GADF,cAKE,cACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,UAFd,CAGE,IAAI,CAAC,UAHP,CAIE,QAAQ,CAAE,kBAACsC,CAAD,QAAOjB,CAAAA,YAAY,CAACiB,CAAD,CAAnB,EAJZ,CAKE,GAAG,CAAC,GALN,EALF,cAYE,cACE,IAAI,CAAC,UADP,CAEE,WAAW,CAAC,UAFd,CAGE,IAAI,CAAC,UAHP,CAIE,QAAQ,CAAE,kBAACA,CAAD,QAAOjB,CAAAA,YAAY,CAACiB,CAAD,CAAnB,EAJZ,EAZF,cAkBE,eAAQ,IAAI,CAAC,QAAb,oBAlBF,cAmBE,gEAC0B,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,yBAD1B,GAnBF,GADF,EADF,cA0BE,KAAC,cAAD,IA1BF,GADF,CA8BD,CAED,GAAMC,CAAAA,aAAa,CAAG1C,MAAM,CAAC2C,GAAV,60CAAnB","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport Logo from \"../assets/logo.svg\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { loginRoute } from \"../utils/APIRoutes\";\n\nexport default function Login() {\n  const navigate = useNavigate();\n  const [values, setValues] = useState({ username: \"\", password: \"\" });\n  const toastOptions = {\n    position: \"bottom-right\",\n    autoClose: 8000,\n    pauseOnHover: true,\n    draggable: true,\n    theme: \"dark\",\n  };\n  useEffect(() => {\n    if (localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY)) {\n      navigate(\"/\");\n    }\n  }, []);\n\n  const handleChange = (event) => {\n    setValues({ ...values, [event.target.name]: event.target.value });\n  };\n\n  const validateForm = () => {\n    const { username, password } = values;\n    if (username === \"\") {\n      toast.error(\"Email and Password is required.\", toastOptions);\n      return false;\n    } else if (password === \"\") {\n      toast.error(\"Email and Password is required.\", toastOptions);\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    if (validateForm()) {\n      const { username, password } = values;\n      const { data } = await axios.post(loginRoute, {\n        username,\n        password,\n      });\n      if (data.status === false) {\n        toast.error(data.msg, toastOptions);\n      }\n      if (data.status === true) {\n        localStorage.setItem(\n          process.env.REACT_APP_LOCALHOST_KEY,\n          JSON.stringify(data.user)\n        );\n\n        navigate(\"/\");\n      }\n    }\n  };\n\n  return (\n    <>\n      <FormContainer>\n        <form action=\"\" onSubmit={(event) => handleSubmit(event)}>\n          <div className=\"brand\">\n            <img src={Logo} alt=\"logo\" />\n            <h1>snappy</h1>\n          </div>\n          <input\n            type=\"text\"\n            placeholder=\"Username\"\n            name=\"username\"\n            onChange={(e) => handleChange(e)}\n            min=\"3\"\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            name=\"password\"\n            onChange={(e) => handleChange(e)}\n          />\n          <button type=\"submit\">Log In</button>\n          <span>\n            Don't have an account ? <Link to=\"/register\">Create One.</Link>\n          </span>\n        </form>\n      </FormContainer>\n      <ToastContainer />\n    </>\n  );\n}\n\nconst FormContainer = styled.div`\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 1rem;\n  align-items: center;\n  background-color: #131324;\n  .brand {\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n    justify-content: center;\n    img {\n      height: 5rem;\n    }\n    h1 {\n      color: white;\n      text-transform: uppercase;\n    }\n  }\n\n  form {\n    display: flex;\n    flex-direction: column;\n    gap: 2rem;\n    background-color: #00000076;\n    border-radius: 2rem;\n    padding: 5rem;\n  }\n  input {\n    background-color: transparent;\n    padding: 1rem;\n    border: 0.1rem solid #4e0eff;\n    border-radius: 0.4rem;\n    color: white;\n    width: 100%;\n    font-size: 1rem;\n    &:focus {\n      border: 0.1rem solid #997af0;\n      outline: none;\n    }\n  }\n  button {\n    background-color: #4e0eff;\n    color: white;\n    padding: 1rem 2rem;\n    border: none;\n    font-weight: bold;\n    cursor: pointer;\n    border-radius: 0.4rem;\n    font-size: 1rem;\n    text-transform: uppercase;\n    &:hover {\n      background-color: #4e0eff;\n    }\n  }\n  span {\n    color: white;\n    text-transform: uppercase;\n    a {\n      color: #4e0eff;\n      text-decoration: none;\n      font-weight: bold;\n    }\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}